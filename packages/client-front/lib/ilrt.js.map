{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f4f015150a7c15982fbd","webpack:///./src/index.js","webpack:///./src/createApp.js","webpack:///./src/createWebsocket.js","webpack:///./src/callFactory.js"],"names":["createApp","app","socket","options","createWebSocket","url","WebSocket","callCounter","callFactory","callBack","onmessage","callId","message","result","resolve","call","method","params","data","type","resultHandler","Promise","reject","send"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;AC7DA;;;;;;;;;;;;;;;;;;;;ACAA;;AACA;;AAEA,IAAMA,YAAY,SAAZA,SAAY,UAAW;AAC3B,MAAMC,MAAM;AACVC,YAAQ,sCAAgBC,OAAhB;AADE,GAAZ;;AAIA,gCAAYF,GAAZ;;AAEA,SAAOA,GAAP;AACD,CARD;;kBAUeD,S;;;;;;;;;;;;;;ACZf,IAAMI,kBAAkB,SAAlBA,eAAkB;AAAA,MAAGC,GAAH,QAAGA,GAAH;AAAA,SAAa,IAAIC,SAAJ,CAAcD,GAAd,CAAb;AAAA,CAAxB;;QAESD,e,GAAAA,e;;;;;;;;;;;;ACHT,IAAIG,cAAc,CAAlB;;AAEA,IAAMC,cAAc,SAAdA,WAAc,MAAO;AACzBP,MAAIQ,QAAJ,GAAe,EAAf;AACAR,MAAIC,MAAJ,CAAWQ,SAAX,CAAqB,mBAAW;AAAA,QACtBC,MADsB,GACHC,OADG,CACtBD,MADsB;AAAA,QACdE,MADc,GACHD,OADG,CACdC,MADc;;;AAG9BZ,QAAIQ,QAAJ,CAAaE,MAAb,EAAqBG,OAArB,CAA6BD,MAA7B;AACD,GAJD;;AAMAZ,MAAIc,IAAJ,GAAW,UAACC,MAAD,EAASC,MAAT,EAAoB;AAC7B,QAAMC,OAAO;AACXF,oBADW;AAEXC,oBAFW;AAGXE,YAAM,MAHK;AAIXR,cAAQJ;AAJG,KAAb;;AAOA,QAAMa,gBAAgB,IAAIC,OAAJ,CAAY,UAACP,OAAD,EAAUQ,MAAV,EAAqB;AACrDrB,UAAIQ,QAAJ,CAAaS,KAAKP,MAAlB,IAA4B;AAC1BG,wBAD0B;AAE1BQ;AAF0B,OAA5B;AAID,KALqB,CAAtB;;AAOArB,QAAIC,MAAJ,CAAWqB,IAAX,CAAgBL,IAAhB;;AAEA,WAAOE,aAAP;AACD,GAlBD;;AAoBA,SAAOnB,GAAP;AACD,CA7BD;;QA+BSO,W,GAAAA,W","file":"ilrt.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ilrt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ilrt\"] = factory();\n\telse\n\t\troot[\"ilrt\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f4f015150a7c15982fbd","import createApp from './createApp';\n\nexport default createApp;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { createWebSocket } from 'createWebsocket';\nimport { callFactory } from 'callFactory';\n\nconst createApp = options => {\n  const app = {\n    socket: createWebSocket(options),\n  };\n\n  callFactory(app);\n\n  return app;\n};\n\nexport default createApp;\n\n\n\n// WEBPACK FOOTER //\n// ./src/createApp.js","\nconst createWebSocket = ({ url }) => new WebSocket(url);\n\nexport { createWebSocket };\n\n\n\n// WEBPACK FOOTER //\n// ./src/createWebsocket.js","let callCounter = 0;\n\nconst callFactory = app => {\n  app.callBack = {};\n  app.socket.onmessage(message => {\n    const { callId, result } = message;\n\n    app.callBack[callId].resolve(result);\n  });\n\n  app.call = (method, params) => {\n    const data = {\n      method,\n      params,\n      type: 'CALL',\n      callId: callCounter++,\n    };\n\n    const resultHandler = new Promise((resolve, reject) => {\n      app.callBack[data.callId] = {\n        resolve,\n        reject,\n      };\n    });\n\n    app.socket.send(data);\n\n    return resultHandler;\n  };\n\n  return app;\n};\n\nexport { callFactory };\n\n\n\n// WEBPACK FOOTER //\n// ./src/callFactory.js"],"sourceRoot":""}